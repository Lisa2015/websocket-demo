<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>socket.io node.js</title>
    <style>
      
    </style>
  </head>
  <body>
    <h3>socket.io实时监听服务器上所连接客户端的数量</h3>
    <p id="count"></p>

    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('http://127.0.0.1:3000');
      var count = document.getElementById('count');
      
      // 侦听users的事件
      socket.on('users', function(data) {
        console.log(data);
        count.innerHTML = data.number;
      });
    </script>
  </body>
</html>